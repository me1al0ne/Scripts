-- List of valid keys
local validKeys = {
    "KEY_2011$33",
    "Foxgreen193",
    "Sink-key582",
    "Door/739"
}

-- User-provided key
local userKey = _G.Key or Key
if not userKey then
    warn("No key provided.")
    return
end

-- Validate key
local isValid = false
for _, k in ipairs(validKeys) do
    if userKey == k then
        isValid = true
        break
    end
end

if not isValid then
    warn("Invalid key.")
    return
end

-- Player + server info
local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local player = Players.LocalPlayer
local username = player and player.Name or "Unknown"
local placeId = game.PlaceId
local jobId = game.JobId ~= "" and game.JobId or "Private"
local serverLink = "https://www.roblox.com/games/" .. placeId .. "?jobId=" .. jobId
local timestamp = os.time()

-- Webhook content
local webhookUrl = "https://discord.com/api/webhooks/1361428146385060037/AWI-TSBmKty0OHeaz5Om1vqynNnvI9krRxCArS1ojRrb3kxZwUOBsRoom35dihAFftZX"
local payload = {
    content = string.format(
        "# Script executed\n\n- Username : %s\n- Server link : %s\n- Key used : %s\n- Execution date : <t:%d:f>",
        username,
        serverLink,
        userKey,
        timestamp
    )
}

-- Send webhook
local requestFunc = syn and syn.request or http_request or http.request or (fluxus and fluxus.request)
if not requestFunc then
    warn("ERROR: Your exploit doesn't support HTTP requests!")
    return
end

local success, response = pcall(function()
    return requestFunc({
        Url = webhookUrl,
        Method = "POST",
        Headers = {
            ["Content-Type"] = "application/json"
        },
        Body = HttpService:JSONEncode(payload)
    })
end)

-- Output result
if success then
    print("✅ Webhook sent! Status:", response.StatusCode)
    if response.StatusCode ~= 204 then
        print("⚠️ Discord returned:", response.Body)
    end
else
    warn("❌ FAILED! Error:", response)
end

-- Actual script logic
game:GetService("ProximityPromptService").PromptButtonHoldBegan:Connect(function(prompt)
    fireproximityprompt(prompt)
end)
