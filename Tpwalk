-- Create the ScreenGui
local gui = Instance.new("ScreenGui")
gui.Name = "patrickGui"
gui.Parent = game:GetService("CoreGui")

-- Create the TextButton
local TextButton = Instance.new("TextButton")
TextButton.Text = "Al0n3 Lock OFF"
TextButton.TextSize = 24
TextButton.TextColor3 = Color3.new(1, 1, 1)
TextButton.BackgroundColor3 = Color3.new(0, 0, 0)
TextButton.BorderColor3 = Color3.new(1, 1, 1)
TextButton.BorderSizePixel = 4
TextButton.Font = Enum.Font.Code
TextButton.Size = UDim2.new(0.2, 0, 0.1, 0)
TextButton.Position = UDim2.new(0, 10, 0.5, 0)
TextButton.Draggable = true
TextButton.Parent = gui

-- Add corner radius to the TextButton
local cornerUI = Instance.new("UICorner")
cornerUI.CornerRadius = UDim.new(0, 5)
cornerUI.Parent = TextButton

-- Add UI Stroke to the TextButton
local uiStroke = Instance.new("UIStroke")
uiStroke.Color = Color3.new(0, 0, 0)
uiStroke.Thickness = 2
uiStroke.Parent = TextButton

-- Player reference
local player = game.Players.LocalPlayer

-- The position where you want to teleport the player
local teleportDestination = CFrame.new(0, 10, 0)  -- Example coordinates (0, 10, 0)

-- The speed at which the player will teleport (higher = faster)
local teleportSpeed = 50  -- Change this value to adjust speed (studs per second)

-- Variable to track whether the TP walk is active
local tpWalkActive = false

-- Function to smoothly teleport the player to the destination
local function teleportPlayer()
    -- Make sure the player has a character and a humanoid root part
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        local character = player.Character
        local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
        
        -- Get the starting position
        local startPosition = humanoidRootPart.Position
        local targetPosition = teleportDestination.Position

        -- Calculate the direction to move in
        local direction = (targetPosition - startPosition).unit
        local distance = (targetPosition - startPosition).magnitude

        -- Move the player towards the target position
        local startTime = tick()
        
        -- Use a while loop to move the player gradually
        while tpWalkActive and (humanoidRootPart.Position - targetPosition).magnitude > 1 do
            local elapsedTime = tick() - startTime
            -- Move the player based on speed and time elapsed
            local movement = direction * teleportSpeed * elapsedTime
            humanoidRootPart.CFrame = CFrame.new(startPosition + movement)
            
            -- Yield to prevent freezing the game and let it update each frame
            wait(0.03)  -- This can be adjusted for smoother or faster transitions
        end
        
        -- Ensure the final position is exactly the target
        humanoidRootPart.CFrame = teleportDestination
    end
end

-- Toggle logic for the button (Mobile Only)
local CamlockState = false

TextButton.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.Touch then
        -- Toggle the camera lock state and teleportation when touched
        CamlockState = not CamlockState
        if CamlockState then
            TextButton.Text = "Al0n3 Lock ON"
            tpWalkActive = true
            teleportPlayer()  -- Start the TP walk immediately when turned ON
        else
            TextButton.Text = "Al0n3 Lock OFF"
            tpWalkActive = false
        end
    end
end)
